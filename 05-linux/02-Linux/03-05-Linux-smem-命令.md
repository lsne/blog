# Linux smem 使用
### 内存状态检测工具smem命令

#### 输出列介绍

```
    linux系统使用熬了virtual memory(虚拟内存) ,如果要准确的计算出一个进程实际使用的物理内存就不是那么的简单能做到的.只知道进程的虚拟内存大小其实没有多大的用处,因为没有办法获取到实际分配的物理内存大小.
    RSS-(resident set size):进程占用物理内存大小
    RSS是驻留集合大小，即进程所使用的非交换区的物理内存。

    (1)top命令也可以查询到,最常用的内存指标
    (2)将各个进程中的RSS值相加后,一般都会超出整个系统的内存消耗,这是因为RSS中包含了各个进程之间的共享内存

    PSS-(proportion set size)
    比例集大小

    所有使用某共享库的程序均分该共享库占用的内存时,显然所有进程的PSS之和就是系统的内存的使用量,会更准确一些,他将共享内存的大小进行平均后,在分摊到各个进程上去.

    USS-(unique set size): 进程独自占用内存
    只计算进程独自占用的内存大小,不包含任何共享的部分
```

#### 使用方式

```
smem -k -s rss
或
smem -p -s rss

-k  显示单位
-p  百分比显示
-s rss 以 rss 列进行排序

# 显示系统用户占用内存信息大小
smem -u -k 


# 指定查看谋个用户进程使用内存大小
smem -P mysql  #(大写P)
smem -k -P mysql
```